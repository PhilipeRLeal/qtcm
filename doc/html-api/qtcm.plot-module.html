<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>qtcm.plot</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="qtcm-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://www.johnny-lin.com/py_pkgs/qtcm/">qtcm</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="qtcm-module.html">Package&nbsp;qtcm</a> ::
        Module&nbsp;plot
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="qtcm.plot-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module plot</h1><p class="nomargin-top"><span class="codelink"><a href="qtcm.plot-pysrc.html">source&nbsp;code</a></span></p>
<p>Functions to plot fields from Qtcm model objects and run.</p>
  <p>Module Function: * nice_levels:  Compute a vector of 
  &quot;levels&quot; at &quot;nice&quot; increments.</p>
  <p>* plot_ncdf_output:  Plot data from QTCM1 netCDF output files.</p>

<hr />
<div class="fields">      <p><strong>Version:</strong>
        0.1.2
      </p>
      <p><strong>Date:</strong>
        September 12, 2008
      </p>
      <p><strong>Author:</strong>
        Johnny Lin
      </p>
</div><!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="qtcm.plot-module.html#nice_levels" class="summary-sig-name">nice_levels</a>(<span class="summary-sig-arg">data</span>,
        <span class="summary-sig-arg">approx_nlev</span>=<span class="summary-sig-default">10</span>,
        <span class="summary-sig-arg">max_nlev</span>=<span class="summary-sig-default">28</span>)</span><br />
      Compute a vector of &quot;levels&quot; at &quot;nice&quot; increments.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="qtcm.plot-pysrc.html#nice_levels">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="qtcm.plot-module.html#mpl_latex_script1" class="summary-sig-name">mpl_latex_script1</a>(<span class="summary-sig-arg">instring</span>)</span><br />
      Return instring to handle super/subscripts of one character.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="qtcm.plot-pysrc.html#mpl_latex_script1">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="qtcm.plot-module.html#plot_ncdf_output" class="summary-sig-name">plot_ncdf_output</a>(<span class="summary-sig-arg">id</span>,
        <span class="summary-sig-arg">datafn</span>,
        <span class="summary-sig-arg">**kwds</span>)</span><br />
      Plot model field id from the data in netCDF file datafn.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="qtcm.plot-pysrc.html#plot_ncdf_output">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="__credits__"></a><span class="summary-name">__credits__</span> = <code title="'http://www.johnny-lin.com/py_pkgs/qtcm/'"><code class="variable-quote">'</code><code class="variable-string">http://www.johnny-lin.com/py_pkgs/qtcm/</code><code class="variable-quote">'</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="qtcm.plot-module.html#__test__" class="summary-name">__test__</a> = <code title="{'Additional Examples of nice_levels': '''
&gt;&gt;&gt; z = N.array([-24.5, 50.3, 183.1, 20.])
&gt;&gt;&gt; out = nice_levels(z, approx_nlev=45, max_nlev=46)
&gt;&gt;&gt; [\'%g\' % out[i] for i in range(len(out))]
[\'-25\', \'-20\', \'-15\', \'-10\', \'-5\', \'0\', \'5\', \'10\', \'1\
5\', \'20\', \'25\', \'30\', \'35\', \'40\', \'45\', \'50\', \'55\', \\
'60\', \'65\', \'70\', \'75\', \'80\', \'85\', \'90\', \'95\', \'100\'\
, \'105\', \'110\', \'115\', \'120\', \'125\', \'130\', \'135\', \'140\
..."><code class="variable-group">{</code><code class="variable-quote">'</code><code class="variable-string">Additional Examples of nice_levels</code><code class="variable-quote">'</code><code class="variable-op">: </code><code class="variable-quote">'</code><code class="variable-string">\n&gt;&gt;&gt; z = N</code><code class="variable-ellipsis">...</code></code>
    </td>
  </tr>
</table>
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="nice_levels"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">nice_levels</span>(<span class="sig-arg">data</span>,
        <span class="sig-arg">approx_nlev</span>=<span class="sig-default">10</span>,
        <span class="sig-arg">max_nlev</span>=<span class="sig-default">28</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="qtcm.plot-pysrc.html#nice_levels">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
Compute a vector of &quot;levels&quot; at &quot;nice&quot; increments.

Returns a 1-D array of &quot;levels&quot; (e.g., contour levels) calculated
to give an aesthetically pleasing and human-readable interval,
if possible.  If not, returns levels for approx_nlev levels
between the maximum and minimum of data.  In any event, the
function will return no more than max_nlev levels.

Keyword Input Parameter:
* data:  Array of values to calculate levels for.  Can be of any 
  size and shape.

Keyword Input Parameter:
* approx_nlev:  Integer referring to approximately how many
  levels to return.  This is the way of adjusting how &quot;coarse&quot;
  or &quot;fine&quot; to make the vector of levels.

* max_nlev:  The maximum number of levels the function will
  permit to be returned.  The interval of levels will be adjusted
  to keep the number of levels returned under this value.  If
  approx_nlev is chosen to be greater than or equal to max_nlev,
  an exception is raised.

Output:
* This function returns a 1-D array of contour levels.

Function is adaptation of parts of IDL routine contour_plot.pro
by Johnny Lin.  This is why the capitalization conventions of
Python are not strictly followed in this function.

Examples:
&gt;&gt;&gt; z = N.array([-24.5, 50.3, 183.1, 20.])
&gt;&gt;&gt; out = nice_levels(z)
&gt;&gt;&gt; ['%g' % out[i] for i in range(len(out))]
['-30', '0', '30', '60', '90', '120', '150', '180', '210']

&gt;&gt;&gt; z = N.array([-24.5, 50.3, 183.1, 20.])
&gt;&gt;&gt; out = nice_levels(z, approx_nlev=5)
&gt;&gt;&gt; ['%g' % out[i] for i in range(len(out))]
['-50', '0', '50', '100', '150', '200']

&gt;&gt;&gt; z = N.array([-24.5, 50.3, 183.1, 20.])
&gt;&gt;&gt; out = nice_levels(z, approx_nlev=10)
&gt;&gt;&gt; ['%g' % out[i] for i in range(len(out))]
['-30', '0', '30', '60', '90', '120', '150', '180', '210']

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="mpl_latex_script1"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">mpl_latex_script1</span>(<span class="sig-arg">instring</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="qtcm.plot-pysrc.html#mpl_latex_script1">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Return instring to handle super/subscripts of one character.</p>
  <p>The string returned expresses instring so that an exponent or 
  subscript with a single character after it (e.g., ^2, _s) can be 
  processed as a LaTeX exponent or superscript in Matplotlib. Any number of
  these super/subscripts can be present in instring. See 
  http://www.scipy.org/Cookbook/Matplotlib/UsingTex by Darrin Dale for some
  code snippets incorporated in this function.</p>
  <p>Positional Input Parameter: * instring:  String to be formatted.</p>
  <p>Output: * A string, processable by Matplotlib's LaTeX emulation 
  module.</p>
  <p>Examples: &gt;&gt;&gt; mpl_latex_script1('Precipitation [W/m^2]') 
  'Precipitation [W/m$^2$]' &gt;&gt;&gt; mpl_latex_script1('u_0^2 and u_1^2
  [m^2/s^2]') 'u$_0$$^2$ and u$_1$$^2$ [m$^2$/s$^2$]'</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="plot_ncdf_output"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">plot_ncdf_output</span>(<span class="sig-arg">id</span>,
        <span class="sig-arg">datafn</span>,
        <span class="sig-arg">**kwds</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="qtcm.plot-pysrc.html#plot_ncdf_output">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Plot model field id from the data in netCDF file datafn.</p>
  <p>Positional Input Parameter: * id:  Name of the id of the field to 
  plot.  String.</p>
  <p>* datafn:  Filename containing the output data to plot.  String.</p>
  <p>Input keyword parameter descriptions are found in the docstring for 
  Qtcm methods ploti, plotm, and other methods that call this private 
  method.  In general, those methods take the keyword parameters they 
  receive and pass it along unchanged as keyword parameters to this 
  function.  In that sense, this function is seldom used as a stand-alone 
  function, but rather is usually used coupled with a Qtcm instance.</p>
  <p>The data fields read in from the netCDF output file are dimensioned 
  (time, lat, lon).  This is different than how the data is stored in the 
  compiled QTCM model fields (lon, lat, time), and at the Python level 
  (lon, lat).  The reason this is the case is that f2py automatically makes
  the arrays passed between the Python and Fortran levels match.</p>
  <p>For a lat vs. lon plot, the contour plot is superimposed onto a 
  cylindrical projection map of the Earth with continents drawn and labeled
  meridians and parallels.  The title also includes the model time, and x- 
  and y-axis labels are not drawn.</p>
  <p>All numerical data used for plotting come from the netCDF output file 
  for consistency (e.g., the dimensions of u1).  Currently this method only
  works for 3-D data arrays (two in space, one in time).</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== VARIABLES DETAILS ==================== -->
<a name="section-VariablesDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-VariablesDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="__test__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">__test__</h3>
  
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
<code class="variable-group">{</code><code class="variable-quote">'</code><code class="variable-string">Additional Examples of nice_levels</code><code class="variable-quote">'</code><code class="variable-op">: </code><code class="variable-quote">'''</code><code class="variable-string"></code>
<code class="variable-string">&gt;&gt;&gt; z = N.array([-24.5, 50.3, 183.1, 20.])</code>
<code class="variable-string">&gt;&gt;&gt; out = nice_levels(z, approx_nlev=45, max_nlev=46)</code>
<code class="variable-string">&gt;&gt;&gt; [\'%g\' % out[i] for i in range(len(out))]</code>
<code class="variable-string">[\'-25\', \'-20\', \'-15\', \'-10\', \'-5\', \'0\', \'5\', \'10\', \'1</code><span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
<code class="variable-string">5\', \'20\', \'25\', \'30\', \'35\', \'40\', \'45\', \'50\', \'55\', \</code><span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
<code class="variable-string">'60\', \'65\', \'70\', \'75\', \'80\', \'85\', \'90\', \'95\', \'100\'</code><span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
<code class="variable-string">, \'105\', \'110\', \'115\', \'120\', \'125\', \'130\', \'135\', \'140</code><span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
<code class="variable-ellipsis">...</code>
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="qtcm-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://www.johnny-lin.com/py_pkgs/qtcm/">qtcm</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Fri Sep 12 14:24:49 2008
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
